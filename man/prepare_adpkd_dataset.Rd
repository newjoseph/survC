% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_preparation.R
\name{prepare_adpkd_dataset}
\alias{prepare_adpkd_dataset}
\title{Prepare ADPKD cohort data for survival modelling}
\usage{
prepare_adpkd_dataset(
  baseline_path,
  followup_path,
  followup_reference = as.Date("2025-08-01"),
  train_size = 300,
  seed = 123456L
)
}
\arguments{
\item{baseline_path}{Path to the baseline Excel file (sheet 1, skip = 1).}

\item{followup_path}{Path to the follow-up Excel file (sheet 1).}

\item{followup_reference}{Date used when the RRT start date is missing. Either
a \code{Date} or something coercible via \code{\link[=as.Date]{as.Date()}}. Defaults to
"2025-08-01".}

\item{train_size}{Number of subjects to sample into the training set. If this
exceeds the number of rows it falls back to \code{nrow(data)}.}

\item{seed}{Integer seed for the train/validation split (default \code{123456}).}
}
\value{
A list with elements \code{data} (cleaned dataset), \code{train}, \code{validation},
\code{varlist}, and \code{labels} (if \code{jstable} is available). All datasets are
returned as \code{data.table} objects.
}
\description{
This helper reproduces the preprocessing pipeline that was previously in
\code{temp.R}. It reads the baseline and follow-up Excel files, performs column
harmonisation, derives follow-up times and laboratory summaries, and returns a
cleaned dataset split into training and validation subsets.
}
